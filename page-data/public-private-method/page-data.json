{"componentChunkName":"component---src-templates-post-template-tsx","path":"/public-private-method/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3>개요</h3>\n<p>private 접근 제어자로 선언된 배열 또는 컬렉션 타입 필드의 객체를 private 메소드를 통해 그대로 반환하지 않도록 해야 한다.</p>\n<p>필요한 경우 복사본을 생성하여 반환하거나, 접근 및 수정을 제어하는 별도의 public 메소드를 선언하여 사용해야 한다.\r\n이렇게 함으로써 외부에서 조작하는 것을 방지할 수 있다.</p>\n<h3>어떻게 대비할 수 있는지 알아보자</h3>\n<h4>취약점 존재 예시</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DangerousPrivateArray</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> fruits<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getFruits</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fruits<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DangerousPrivateArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fruits <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"grape\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"apple\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"banana\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"orange\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"strawberry\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token class-name\">DangerousPrivateArray</span> innerData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DangerousPrivateArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> outerData <span class=\"token operator\">=</span> innerData<span class=\"token punctuation\">.</span><span class=\"token function\">getFruits</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        outerData<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"watermelon\"</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위와 같이, DangerousPrivateArray 클래스의 필드 변수가 private으로 선언되어 있어 외부로의 접근을 막을 수 있겠다 생각할 수 있지만, 그렇지 않다.</p>\n<p><code class=\"language-text\">getFruits()</code> 메소드를 통해 fruits 객체의 주소를 그대로 반환하고 있다. 이렇게 하면 main 메소드에서 선언한 innerData객체로 클래스 안에 있던 fruits 객체를 그대로 꺼낼 수가 있다.</p>\n<p>그 객체 주소를 다른 새 객체에 복사하면 그 새 객체에서도 private 접근제어자로 선언한 fruits 객체의 내용을 바꿀 수 있게 된다.</p>\n<p>그러면 어떻게 상태의 일관성을 망치지 않을 수 있을까?</p>\n<h4>취약점 해결 방법</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ProtectPrivateArrayByPublicMethod</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> fruits<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getFruits</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> safeArray <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fruits<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> safeArray<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            safeArray<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> fruits<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">return</span> safeArray<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token class-name\">ProtectPrivateArrayByPublicMethod</span> innerData <span class=\"token operator\">=</span> <span class=\"token class-name\">ProtectPrivateArrayByPublicMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> outerData <span class=\"token operator\">=</span> innerData<span class=\"token punctuation\">.</span><span class=\"token function\">getFruits</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        outerData<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"watermelon\"</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>바로 새 배열, 즉 <strong>값만 복사한 뒤 새 객체 안에</strong> 채운다.\r\n그러면 <code class=\"language-text\">outerData</code>의 3번째 인덱스 값만 watermelon으로 바뀌고, 원본 private 배열에는 영향이 없게 되어 캡슐화를 지킬 수 있게 된다. 즉, 상태의 일관성을 지킬 수 있게 된다.</p>\n<h3>꼬리에 꼬리를 무는 궁금증</h3>\n<h5>Q. String의 배열 요소는 참조형 클래스인 String일텐데, 참조주소를 넘기는 게 아닌가요?</h5>\n<p>그렇다. 참조주소를 넘기는 건 맞다. 하지만, String은 <strong>불변 객체</strong>이기 때문에 참조 주소를 공유해도 내부 상태가 바뀌지 않는다.</p>\n<p>그러므로 위의 취약점 해결 방법으로 방어적 복사를 하여 상태의 일관성을 지킬 수 있다.</p>\n<p>그러나 배열 요소 객체의 변경 가능성이 있다면(가변 객체라면) 얘기가 달라진다.</p>\n<p>그때는 새 배열 safeArray 안의 요소를 통해 객체 상태를 바꿀 수 있고, 그 객체를 참조하는 원본 배열에서도 변경이 가능하게 된다.</p>\n<p>이런 경우에는 배열 구조는 보호되지만, 요소의 상태는 노출되는 것이다.\r\n이때는 깊은 복사 또는 불변 뷰/래퍼까지 고려해야 한다.</p>\n<h5>Q. 불변 뷰/래퍼 예시도 들어주세요.</h5>\n<p>불변 뷰/래퍼는 외부에서 수정만 못 하게 막거나 읽기 전용으로만 노출하고 싶을 때 활용할 수 있다.</p>\n<h6>얕은 복사만 하는 경우의 문제 상황</h6>\n<p>먼저, 가변 객체에 대해 얕은 복사만 한 경우를 예시로 들겠다.\r\n가변 객체(도메인 클래스)를 선언하면 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Address</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> city<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> street<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Address</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> city<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> street<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>city <span class=\"token operator\">=</span> city<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>street <span class=\"token operator\">=</span> street<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">// setter가 있으므로 가변 객체가 됨</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setCity</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> city<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>city <span class=\"token operator\">=</span> city<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setStreet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> street<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>street <span class=\"token operator\">=</span> street<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> city <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> street<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">getAddresses()</code>를 통해 내부 리스트를 그대로 반환하게 되어 변경에 노출된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserInfo</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Address</span><span class=\"token punctuation\">></span></span> addresses <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        addresses<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Address</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Seoul\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Gangnam-daero\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        addresses<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Address</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Busan\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Haeundae-ro\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Address</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getAddresses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> addresses<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 내부 객체를 직접 수정하고 내부 리스트 구조까지 변경할 수 있게 되어 캡슐화가 깨지게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">UserInfo</span> info <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Address</span><span class=\"token punctuation\">></span></span> outer <span class=\"token operator\">=</span> info<span class=\"token punctuation\">.</span><span class=\"token function\">getAddresses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nouter<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setCity</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HackedCity\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 내부 객체 직접 수정</span>\r\nouter<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 내부 리스트 구조까지 변경 가능</span></code></pre></div>\n<p>이를 UserInfo쪽에서 불변 뷰(Unmodifiable Wrapper)로 가변 객체를 방어할 수 있다. 즉, 읽기 전용 뷰로 감싸는 게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserInfo</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Address</span><span class=\"token punctuation\">></span></span> addresses <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        addresses<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Address</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Seoul\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Gangnam-daero\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        addresses<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Address</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Busan\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Haeundae-ro\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Address</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getAddresses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Collections</span><span class=\"token punctuation\">.</span><span class=\"token function\">unmodifiableList</span><span class=\"token punctuation\">(</span>addresses<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">UserInfo</span> info <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Address</span><span class=\"token punctuation\">></span></span> outer <span class=\"token operator\">=</span> info<span class=\"token punctuation\">.</span><span class=\"token function\">getAddresses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nouter<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// UnsupportedOperationException 발생</span>\r\nouter<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Address</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"X\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Y\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// UnsupportedOperationException 발생</span></code></pre></div>\n<p>그러나 이렇게 구조 보호를 할 수는 있지만</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">outer<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setCity</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HackedCity\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>요소는 여전히 가변이라 접근이 가능하다.\r\n즉, unmodifiableList는 리스트 구조만 막을 수 있고 요소 객체까지 불변으로 만들어주진 못한다.</p>\n<h5>Q. 그러면 요소까지 방어할 수 있는 방법이 있을까요?</h5>\n<blockquote>\n<p>이전까지만 해도 public 메소드에 의해 반환된 private 컬렉션(배열)에 대한 시큐어 코딩은 충분하다.</p>\n</blockquote>\n<p>왜냐하면 위의 요점은 <strong>내부 배열 직접 노출하는 것을 막기</strong>이지, 지금부터 하는 것은 시큐어 코딩을 넘어서서 추가적인 궁금증에 대한 학습을 기록으로 남긴 것이다.</p>","frontmatter":{"title":"public 메소드에 의해 반환된 private 컬렉션(배열)이 왜 위험할까","summary":"sparrow 검사를 통해 분석하며 알아낸 인사이트","date":"2025.11.07.","categories":["보안"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAKABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAYJ/8QAFAEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB3pnrQAL/AP/EABgQAAMBAQAAAAAAAAAAAAAAAAIDBAUg/9oACAEBAAEFAqmUKBGle0uP/8QAFhEAAwAAAAAAAAAAAAAAAAAAEHHw/9oACAEDAQE/AZD/xAAbEQADAAIDAAAAAAAAAAAAAAABESEQMUFhcf/aAAgBAgEBPwFUlkviIeR3ZZPSx//EAB4QAAICAgIDAAAAAAAAAAAAAAECAxIEEQUhEyAi/9oACAEBAAY/AlbHgGQb/cfkEbUo/cZIKl70GnKrUsbAgAwh+B5HHWRlVnln4oiENrbyLHnvJRN90VpOjqP1/8QAGRAAAwADAAAAAAAAAAAAAAAAAREhACAx/9oACAEBAAE/IYD2sfgdNpbki7O9gjeASFlEKen/2gAMAwEAAgADAAAAEIQP/8QAGBEBAQEBAQAAAAAAAAAAAAAAAREhMRD/2gAIAQMBAT8QCK1bIMkEyA71q7yef//EABkRAQACAwAAAAAAAAAAAAAAAAEhQRARMf/aAAgBAgEBPxAQoiEXCAmokLLRGP/EABgQAQADAQAAAAAAAAAAAAAAAAEAESAh/9oACAEBAAE/EBgIvaYCXNu4aSqTh4V2iHnMXy//2Q=="},"images":{"fallback":{"src":"/static/b1aab721f75f7a71f9d959256b9f996d/c9779/sparrow.jpg","srcSet":"/static/b1aab721f75f7a71f9d959256b9f996d/100fb/sparrow.jpg 200w,\n/static/b1aab721f75f7a71f9d959256b9f996d/e8b57/sparrow.jpg 400w,\n/static/b1aab721f75f7a71f9d959256b9f996d/c9779/sparrow.jpg 800w","sizes":"(min-width: 800px) 800px, 100vw"},"sources":[{"srcSet":"/static/b1aab721f75f7a71f9d959256b9f996d/03437/sparrow.webp 200w,\n/static/b1aab721f75f7a71f9d959256b9f996d/9b881/sparrow.webp 400w,\n/static/b1aab721f75f7a71f9d959256b9f996d/c0ead/sparrow.webp 800w","type":"image/webp","sizes":"(min-width: 800px) 800px, 100vw"}]},"width":800,"height":400}},"publicURL":"/static/b1aab721f75f7a71f9d959256b9f996d/sparrow.jpg"}}}}]}},"pageContext":{"slug":"/public-private-method/"}},"staticQueryHashes":["3649515864","63159454"],"slicesMap":{}}